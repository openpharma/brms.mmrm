<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Label template for informative prior archetypes — brm_prior_template • brms.mmrm</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Label template for informative prior archetypes — brm_prior_template"><meta name="description" content="Template for the label argument of brm_prior_archetype()."><meta property="og:description" content="Template for the label argument of brm_prior_archetype()."><meta property="og:image" content="/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">brms.mmrm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Usage</h6></li>
    <li><a class="dropdown-item" href="../articles/usage.html">Usage</a></li>
    <li><a class="dropdown-item" href="../articles/subgroup.html">Subgroup analysis</a></li>
    <li><a class="dropdown-item" href="../articles/simulation.html">Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/archetypes.html">Informative prior archetypes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Validation</h6></li>
    <li><a class="dropdown-item" href="../articles/sbc.html">Simulation-based calibration checking</a></li>
    <li><a class="dropdown-item" href="../articles/fev1.html">FEV1 data comparison between Bayesian and frequentist MMRMs</a></li>
    <li><a class="dropdown-item" href="../articles/bcva.html">BCVA data comparison between Bayesian and frequentist MMRMs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openpharma/brms.mmrm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Label template for informative prior archetypes</h1>
      <small class="dont-index">Source: <a href="https://github.com/openpharma/brms.mmrm/blob/main/R/brm_prior_template.R" class="external-link"><code>R/brm_prior_template.R</code></a></small>
      <div class="d-none name"><code>brm_prior_template.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Template for the <code>label</code> argument of <code><a href="brm_prior_archetype.html">brm_prior_archetype()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">brm_prior_template</span><span class="op">(</span><span class="va">archetype</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-archetype">archetype<a class="anchor" aria-label="anchor" href="#arg-archetype"></a></dt>
<dd><p>An informative prior archetype generated by a function
like <code><a href="brm_archetype_successive_cells.html">brm_archetype_successive_cells()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>tibble</code> with one row per fixed effect parameter and columns
to map Stan code to each parameter. After manually writing Stan code in
the <code>code</code> column of the template, you can supply the result
to the <code>label</code> argument of <code><a href="brm_prior_archetype.html">brm_prior_archetype()</a></code> to build a
<code>brms</code> prior for your model.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>label</code> argument of <code><a href="brm_prior_archetype.html">brm_prior_archetype()</a></code> is a
<code>tibble</code> which maps Stan code for univariate priors
to fixed effect parameters in the model. Usually this <code>tibble</code> is
built gradually using multiple calls to <code><a href="brm_prior_label.html">brm_prior_label()</a></code>,
but occasionally it is more convenient to begin with a full template
and manually write Stan code in the <code>code</code> column.
<code>brm_prior_template()</code> creates this template.</p>
    </div>
    <div class="section level2">
    <h2 id="prior-labeling">Prior labeling<a class="anchor" aria-label="anchor" href="#prior-labeling"></a></h2>


<p>Informative prior archetypes use a labeling scheme to assign priors
to fixed effects. How it works:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fl">1.</span> First, assign the prior of each parameter a collection</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  of labels from the data. This can be done manually or with</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  successive calls to [<span class="fu">brm_prior_label</span>()].</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fl">2.</span> Supply the labeling scheme to [<span class="fu">brm_prior_archetype</span>()].</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  [<span class="fu">brm_prior_archetype</span>()] uses attributes of the archetype</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  to map labeled priors to their rightful parameters <span class="cf">in</span> the model.</span></code></pre><p></p></div>
<p>For informative prior archetypes, this process is much more convenient
and robust than manually calling <code><a href="https://paul-buerkner.github.io/brms/reference/set_prior.html" class="external-link">brms::set_prior()</a></code>.
However, it requires an understanding of how the labels of the priors
map to parameters in the model. This mapping varies from archetype
to archetype, and it is documented in the help pages of
archetype-specific functions such as <code><a href="brm_archetype_successive_cells.html">brm_archetype_successive_cells()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other priors:
<code><a href="brm_prior_archetype.html">brm_prior_archetype</a>()</code>,
<code><a href="brm_prior_label.html">brm_prior_label</a>()</code>,
<code><a href="brm_prior_simple.html">brm_prior_simple</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="brm_simulate_outline.html">brm_simulate_outline</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_group <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  n_patient <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  n_time <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  rate_dropout <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  rate_lapse <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="brm_simulate_continuous.html">brm_simulate_continuous</a></span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"biomarker1"</span>, <span class="st">"biomarker2"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="brm_simulate_categorical.html">brm_simulate_categorical</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"status1"</span>, <span class="st">"status2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"present"</span>, <span class="st">"absent"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">archetype</span> <span class="op">&lt;-</span> <span class="fu"><a href="brm_archetype_successive_cells.html">brm_archetype_successive_cells</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu">brm_prior_template</span><span class="op">(</span><span class="va">archetype</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">label</span><span class="op">$</span><span class="va">code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"normal(1, 1)"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"normal(1, 2)"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"normal(1, 3)"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"normal(2, 1)"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"normal(2, 2)"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"normal(2, 3)"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="brm_prior_archetype.html">brm_prior_archetype</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">label</span>, archetype <span class="op">=</span> <span class="va">archetype</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         prior class             coef group resp dpar nlpar   lb   ub source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  normal(1, 1)     b x_group_1_time_1                       &lt;NA&gt; &lt;NA&gt;   user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  normal(1, 2)     b x_group_1_time_2                       &lt;NA&gt; &lt;NA&gt;   user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  normal(1, 3)     b x_group_1_time_3                       &lt;NA&gt; &lt;NA&gt;   user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  normal(2, 1)     b x_group_2_time_1                       &lt;NA&gt; &lt;NA&gt;   user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  normal(2, 2)     b x_group_2_time_2                       &lt;NA&gt; &lt;NA&gt;   user</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  normal(2, 3)     b x_group_2_time_3                       &lt;NA&gt; &lt;NA&gt;   user</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by William Michael Landau, Kevin Kunzmann, Yoni Sidi, Christian Stock, Eli Lilly and Company, Boehringer Ingelheim Pharma GmbH &amp; Co. KG.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

